{"version":3,"file":"src_app_vistas_scan-qr-pago_scan-qr-pago_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAEF;AAErD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,8DAAc;KAC1B;CACF,CAAC;IAMW,2BAA2B,SAA3B,2BAA2B;;AAA3B,2BAA2B;IAJvC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,2BAA2B;AAAA;;;;;;;;;;;;;;;;;;;;;;;AChBC;AACM;AACF;AAEA;AAE+B;AAEvB;IAWxC,oBAAoB,SAApB,oBAAoB;;AAApB,oBAAoB;IAThC,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW;YACX,qFAA2B;SAC5B;QACD,YAAY,EAAE,CAAC,8DAAc,CAAC;KAC/B,CAAC;GACW,oBAAoB;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;ACnBjC;AACA;IAQaE,cAAc,SAAdA,cAAc;EAKzBC;IAJA,oBAAe,gBAAf;IAEA,0BAAqB,EAArB;EAEiB;;EAEXC,eAAe;IAAA;MACnB,IAAI;QACF;QACA,MAAMC,MAAM,SAASJ,gGAAA,CAA+B;UAAEK,KAAK,EAAE;QAAT,CAA/B,CAArB;;QACA,IAAID,MAAM,CAACE,OAAX,EAAoB;UAClB;UACA,OAAO,IAAP;QACD;;QACD,OAAO,KAAP;MACD,CARD,CAQE,OAAMC,CAAN,EAAS;QACTC,OAAO,CAACC,GAAR,CAAYF,CAAZ;MACD;IAXkB;EAYpB;;EAEKG,SAAS;IAAA;;IAAA;MACb,IAAI;QACF,MAAMC,UAAU,SAAS,KAAI,CAACR,eAAL,EAAzB;;QACA,IAAG,CAACQ,UAAJ,EAAgB;UACd;QACD;;QACD,MAAMX,+FAAA,EAAN;QACAa,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+BC,SAA/B,CAAyCC,GAAzC,CAA6C,gBAA7C;QACA,KAAI,CAACC,kBAAL,GAA0B,QAA1B;QACA,MAAMC,MAAM,SAASlB,0FAAA,EAArB;QACAQ,OAAO,CAACC,GAAR,CAAYS,MAAZ;QACAlB,+FAAA;QACAa,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+BC,SAA/B,CAAyCK,MAAzC,CAAgD,gBAAhD;QACA,KAAI,CAACH,kBAAL,GAA0B,EAA1B;;QACA,IAAGC,MAAM,EAAEG,UAAX,EAAuB;UACrB,KAAI,CAACC,aAAL,GAAqBJ,MAAM,CAACK,OAA5B;UACAf,OAAO,CAACC,GAAR,CAAY,KAAI,CAACa,aAAjB;QACD;MACF,CAjBD,CAiBE,OAAMf,CAAN,EAAS;QACTC,OAAO,CAACC,GAAR,CAAYF,CAAZ;;QACA,KAAI,CAACiB,QAAL;MACD;IArBY;EAsBd;;EAEDA,QAAQ;IACNxB,+FAAA;IACAA,yFAAA;IACAa,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+BC,SAA/B,CAAyCK,MAAzC,CAAgD,gBAAhD;IACA,KAAKH,kBAAL,GAA0B,EAA1B;EACD;;EAGDQ,WAAW;IACT,KAAKD,QAAL;EACH;;AAvD0B;;;;AAAdvB,cAAc,sDAL1BF,wDAAS,CAAC;EACT2B,QAAQ,EAAE,kBADD;EAETC,UAAAA,+DAFS;;AAAA,CAAD,CAKiB,GAAd1B,cAAc,CAAd","sources":["./src/app/vistas/scan-qr-pago/scan-qr-pago-routing.module.ts","./src/app/vistas/scan-qr-pago/scan-qr-pago.module.ts","./src/app/vistas/scan-qr-pago/scan-qr-pago.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ScanQrPagoPage } from './scan-qr-pago.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ScanQrPagoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ScanQrPagoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ScanQrPagoPageRoutingModule } from './scan-qr-pago-routing.module';\n\nimport { ScanQrPagoPage } from './scan-qr-pago.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ScanQrPagoPageRoutingModule\n  ],\n  declarations: [ScanQrPagoPage]\n})\nexport class ScanQrPagoPageModule {}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { BarcodeScanner } from '@capacitor-community/barcode-scanner';\n\n\n@Component({\n  selector: 'app-scan-qr-pago',\n  templateUrl: './scan-qr-pago.page.html',\n  styleUrls: ['./scan-qr-pago.page.scss'],\n})\nexport class ScanQrPagoPage implements OnDestroy {\n  qrCodeString = 'Clave din√°mica';\n  scannedResult: any;\n  content_visibility = '';\n\n  constructor() { }\n\n  async checkPermission() {\n    try {\n      // check or request permission\n      const status = await BarcodeScanner.checkPermission({ force: true });\n      if (status.granted) {\n        // the user granted permission\n        return true;\n      }\n      return false;\n    } catch(e) {\n      console.log(e);\n    }\n  }\n\n  async startScan() {\n    try {\n      const permission = await this.checkPermission();\n      if(!permission) {\n        return;\n      }\n      await BarcodeScanner.hideBackground();\n      document.querySelector('body').classList.add('scanner-active');\n      this.content_visibility = 'hidden';\n      const result = await BarcodeScanner.startScan();\n      console.log(result);\n      BarcodeScanner.showBackground();\n      document.querySelector('body').classList.remove('scanner-active');\n      this.content_visibility = '';\n      if(result?.hasContent) {\n        this.scannedResult = result.content;\n        console.log(this.scannedResult);\n      }\n    } catch(e) {\n      console.log(e);\n      this.stopScan();\n    }\n  }\n\n  stopScan() {\n    BarcodeScanner.showBackground();\n    BarcodeScanner.stopScan();\n    document.querySelector('body').classList.remove('scanner-active');\n    this.content_visibility = '';\n  }\n\n\n  ngOnDestroy(): void {\n    this.stopScan();\n}\n\n\n}\n"],"names":["Component","BarcodeScanner","ScanQrPagoPage","constructor","checkPermission","status","force","granted","e","console","log","startScan","permission","hideBackground","document","querySelector","classList","add","content_visibility","result","showBackground","remove","hasContent","scannedResult","content","stopScan","ngOnDestroy","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}