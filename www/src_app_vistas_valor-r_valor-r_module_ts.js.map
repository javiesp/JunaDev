{"version":3,"file":"src_app_vistas_valor-r_valor-r_module_ts.js","mappings":"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","sources":["./src/app/vistas/pipes/date-ago.pipe.ts","./src/app/vistas/valor-r/valor-r-routing.module.ts","./src/app/vistas/valor-r/valor-r.module.ts","./src/app/vistas/valor-r/valor-r.page.ts","./src/app/vistas/valor-rr/valor-rr.component.ts"],"sourcesContent":["import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'dateAgo',\r\n  standalone: true\r\n})\r\nexport class DateAgoPipe implements PipeTransform {\r\n\r\n  transform(value: any, args?: any): any {\r\n    if(value) {\r\n\r\n      const seconds = Math.floor((+new Date() - +new Date(value)) / 1000);\r\n      if (seconds < 30) // less than 30 seconds ago will show as 'Just now'\r\n        return 'Just now';\r\n      const intervals: any = {\r\n        'year': 31536000,\r\n        'month': 2592000,\r\n        'week': 604800,\r\n        'day': 86400,\r\n        'hour': 3600,\r\n        'minute': 60,\r\n        'second': 1\r\n      };\r\n      let counter;\r\n      for (const i in intervals) {\r\n          counter = Math.floor(seconds / intervals[i]);\r\n          if (counter > 0)\r\n              if (counter === 1) {\r\n                  return counter + ' ' + i + ' ago'; // singular (1 day ago)\r\n              } else {\r\n                  return counter + ' ' + i + 's ago'; // plural (2 days ago)\r\n              }\r\n      }\r\n    }\r\n    return value;\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ValorRPage } from './valor-r.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ValorRPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ValorRPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ValorRPageRoutingModule } from './valor-r-routing.module';\r\n\r\nimport { ValorRPage } from './valor-r.page';\r\nimport { ValorRrComponent } from '../valor-rr/valor-rr.component';\r\nimport { DateAgoPipe } from '../pipes/date-ago.pipe';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ValorRPageRoutingModule\r\n  ],\r\n  declarations: [ValorRPage,\r\n                ValorRrComponent,\r\n                DateAgoPipe]\r\n})\r\nexport class ValorRPageModule {}\r\n","import { CommonModule } from '@angular/common';\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { IonModal, IonicModule } from '@ionic/angular';\r\nimport { DateAgoPipe } from '../pipes/date-ago.pipe';\r\nimport { ValorRrComponent } from '../valor-rr/valor-rr.component';\r\n\r\n@Component({\r\n  selector: 'app-valor-r',\r\n  templateUrl: './valor-r.page.html',\r\n  styleUrls: ['./valor-r.page.scss'],\r\n  standalone: true,\r\n  imports: [IonicModule, CommonModule, FormsModule, ValorRrComponent, DateAgoPipe],\r\n})\r\nexport class ValorRPage {\r\n\r\n  @ViewChild('rate_modal') rateModal!: IonModal;\r\n  reviews: any[] = [\r\n    {\r\n      rate: 5,\r\n      comment: 'Great work!',\r\n      user_name: 'User 2',\r\n      created_at: '2023-07-30 11:45:20'\r\n    },\r\n    {\r\n      rate: 4,\r\n      user_name: 'User 1',\r\n      created_at: '2023-01-22 11:51:20'\r\n    },\r\n  ];\r\n  rating: any = {};\r\n  isToastOpen = false;\r\n  errorMessage!: string;\r\n\r\n  constructor() {}\r\n\r\n  setOpen(isOpen: boolean) {\r\n    this.isToastOpen = isOpen;\r\n  }\r\n\r\n  dismiss(isRating = false) {\r\n    let data: any = null;\r\n    if(isRating) {\r\n      if(this.rating?.rate == 0) {\r\n        this.setOpen(true);\r\n        this.errorMessage = 'Please provide rating!';\r\n        return;\r\n      }\r\n      data = this.rating;\r\n      this.rating = {};\r\n    }\r\n    this.rateModal.dismiss(data);\r\n  }\r\n\r\n  onWillDismiss(event: any) {\r\n    console.log(event?.detail?.data);\r\n    const data = event?.detail?.data;\r\n    if(data) {\r\n      let reviews: any[] = [];\r\n      reviews.push({\r\n        ...data, \r\n        user_name: 'User' + (this.reviews.length + 1),\r\n        created_at: new Date(),\r\n      });\r\n      reviews = reviews.concat(this.reviews);\r\n      this.reviews = [...reviews];\r\n      console.log(this.reviews);\r\n    }\r\n  }\r\n}\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\n\r\n@Component({\r\n  selector: 'app-valor-rr',\r\n  templateUrl: './valor-rr.component.html',\r\n  styleUrls: ['./valor-rr.component.scss'],\r\n})\r\nexport class ValorRrComponent implements OnInit {\r\n\r\n  stars: { icon: string; color: string }[] = [\r\n    { icon: 'star-outline', color: 'medium' },\r\n    { icon: 'star-outline', color: 'medium' },\r\n    { icon: 'star-outline', color: 'medium' },\r\n    { icon: 'star-outline', color: 'medium' },\r\n    { icon: 'star-outline', color: 'medium' },\r\n  ];\r\n\r\n  @Input() initialRating: number = 0;\r\n  @Input() readonly: boolean = false;\r\n  @Input() alignment = 'center';\r\n  @Input() size: string = '2rem';\r\n  @Output() ratingChange: EventEmitter<number> = new EventEmitter<number>();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    this.setRating(this.initialRating);\r\n  }\r\n\r\n  rate(value: number) {\r\n    if (!this.readonly) {\r\n      this.setRating(value);\r\n    }\r\n  }\r\n\r\n  setRating(rating: number) {\r\n    for (let i = 0; i < this.stars.length; i++) {\r\n      if (rating >= i + 1) {\r\n        this.stars[i].icon = 'star';\r\n        this.stars[i].color = 'warning';\r\n      } else if (rating > i) {\r\n        this.stars[i].icon = 'star-half';\r\n        this.stars[i].color = 'warning';\r\n      } else {\r\n        this.stars[i].icon = 'star-outline';\r\n        this.stars[i].color = 'medium';\r\n      }\r\n    }\r\n    this.ratingChange.emit(rating);\r\n  }\r\n\r\n}\r\n\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}